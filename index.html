<html>
<head>
  <meta charset="UTF-8" />
  <title>Web Speech API</title>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
window.SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
var recognition = new webkitSpeechRecognition();
recognition.lang = 'en';
// recognition.lang = 'ja';

// 録音終了時トリガー
recognition.onerror = function (event) {
    console.log("onerror");
    console.log(event);
}
recognition.onresult = function (event) {
    console.log("onresult");
    console.log(event);
}

recognition.addEventListener('result', function(event){
    console.log("finished");
    console.log(event.results);
    var text = event.results.item(0).item(0).transcript;
    $("#result_text").val(text);
}, false);

// 録音開始
function record()
{
  recognition.start();
  console.log("start");
}
</script>
</head>

<body>

<textarea id="result_text" cols="100" rows="10">
</textarea>
<br />
<input type="button" onClick="record()" value="録音開始" />
</body>
</html>
